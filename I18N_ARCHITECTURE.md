# ğŸ—ï¸ i18n Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RepsUp App                                â”‚
â”‚                     (React Native + Expo)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      app/_layout.tsx                             â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                   â”‚ I18nextProvider â”‚ â—„â”€â”€ Wraps entire app       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     src/lib/i18n.ts                              â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                  â”‚  i18next Config  â”‚                            â”‚
â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
â”‚                  â”‚ â€¢ Initialize     â”‚                            â”‚
â”‚                  â”‚ â€¢ Load resources â”‚                            â”‚
â”‚                  â”‚ â€¢ Detect languageâ”‚                            â”‚
â”‚                  â”‚ â€¢ Set defaults   â”‚                            â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                              â”‚
              â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Translation Files   â”‚      â”‚   expo-localization      â”‚
â”‚                      â”‚      â”‚                          â”‚
â”‚  src/locales/        â”‚      â”‚  getLocales()[0]        â”‚
â”‚  â”œâ”€â”€ en/             â”‚      â”‚  .languageCode          â”‚
â”‚  â”‚   â””â”€â”€ translationâ”‚      â”‚  â†’ 'en' or 'ar'         â”‚
â”‚  â””â”€â”€ ar/             â”‚      â”‚                          â”‚
â”‚      â””â”€â”€ translation â”‚      â”‚  Auto-detect device     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Your Components                               â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  import { useTranslation } from 'react-i18next';       â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  function MyComponent() {                              â”‚    â”‚
â”‚  â”‚    const { t } = useTranslation();                     â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚    return <Text>{t('welcome')}</Text>;                 â”‚    â”‚
â”‚  â”‚  }                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Helper Utilities                              â”‚
â”‚                                                                  â”‚
â”‚  src/utils/language.ts                                           â”‚
â”‚  â”œâ”€â”€ changeLanguage(lang)     â†’ Switch language                 â”‚
â”‚  â”œâ”€â”€ getCurrentLanguage()     â†’ Get current language            â”‚
â”‚  â””â”€â”€ isRTL()                  â†’ Check if RTL                     â”‚
â”‚                                                                  â”‚
â”‚  src/components/features/LanguageSwitcher.tsx                    â”‚
â”‚  â””â”€â”€ <LanguageSwitcher />     â†’ UI component for switching      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Flow

```
User Opens App
      â”‚
      â–¼
expo-localization detects device language
      â”‚
      â–¼
i18n.ts initializes with detected language (en or ar)
      â”‚
      â–¼
I18nextProvider makes translations available to all components
      â”‚
      â–¼
Components use useTranslation() hook to access t() function
      â”‚
      â–¼
t('key') returns translated string from JSON files
      â”‚
      â–¼
Text displays in correct language
```

## ğŸ”„ Language Switch Flow

```
User clicks language switcher
      â”‚
      â–¼
changeLanguage('ar') is called
      â”‚
      â–¼
i18next changes active language
      â”‚
      â–¼
All components automatically re-render
      â”‚
      â–¼
All t() calls now return Arabic translations
      â”‚
      â–¼
UI updates without app restart
```

## ğŸ“ File Structure

```
RepsUp-Client/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ _layout.tsx                    â† I18nextProvider wrapper
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ login.tsx                  â† Example: uses t('auth.login.title')
â”‚   â”œâ”€â”€ tabs/
â”‚   â”‚   â””â”€â”€ profile.tsx                â† Example: includes LanguageSwitcher
â”‚   â””â”€â”€ examples/
â”‚       â””â”€â”€ i18n-demo.tsx              â† Demo screen
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ i18n.ts                    â† Main configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ locales/
â”‚   â”‚   â”œâ”€â”€ en/
â”‚   â”‚   â”‚   â””â”€â”€ translation.json       â† English strings
â”‚   â”‚   â””â”€â”€ ar/
â”‚   â”‚       â””â”€â”€ translation.json       â† Arabic strings
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ language.ts                â† Helper functions
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ features/
â”‚   â”‚       â””â”€â”€ LanguageSwitcher.tsx   â† UI component
â”‚   â”‚
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ i18next.d.ts               â† TypeScript types
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ I18N_GUIDE.md                  â† Full guide
    â”œâ”€â”€ I18N_QUICK_REFERENCE.md        â† Quick snippets
    â”œâ”€â”€ TRANSLATION_SETUP.md            â† Setup info
    â””â”€â”€ I18N_IMPLEMENTATION_COMPLETE.md â† Summary
```

## ğŸ”Œ Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Integration Points                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  1. App Root (_layout.tsx)                               â”‚
â”‚     â””â”€â”€ Wraps app with I18nextProvider                   â”‚
â”‚                                                           â”‚
â”‚  2. Any Component                                         â”‚
â”‚     â””â”€â”€ useTranslation() hook â†’ t() function             â”‚
â”‚                                                           â”‚
â”‚  3. Profile/Settings                                      â”‚
â”‚     â””â”€â”€ <LanguageSwitcher /> component                   â”‚
â”‚                                                           â”‚
â”‚  4. Add Translations                                      â”‚
â”‚     â””â”€â”€ Edit src/locales/[en|ar]/translation.json        â”‚
â”‚                                                           â”‚
â”‚  5. Programmatic Switch                                   â”‚
â”‚     â””â”€â”€ changeLanguage('ar') utility                     â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Translation Key Structure

```
translation.json
â”œâ”€â”€ common                     (Shared across app)
â”‚   â”œâ”€â”€ login
â”‚   â”œâ”€â”€ logout
â”‚   â””â”€â”€ save
â”‚
â”œâ”€â”€ auth                       (Authentication)
â”‚   â”œâ”€â”€ login
â”‚   â”‚   â”œâ”€â”€ title
â”‚   â”‚   â”œâ”€â”€ subtitle
â”‚   â”‚   â””â”€â”€ continueButton
â”‚   â””â”€â”€ verifyOtp
â”‚       â”œâ”€â”€ title
â”‚       â””â”€â”€ subtitle
â”‚
â”œâ”€â”€ tabs                       (Navigation)
â”‚   â”œâ”€â”€ home
â”‚   â”œâ”€â”€ add
â”‚   â””â”€â”€ profile
â”‚
â”œâ”€â”€ workout                    (Workout features)
â”‚   â”œâ”€â”€ title
â”‚   â”œâ”€â”€ addNew
â”‚   â””â”€â”€ exercise
â”‚
â””â”€â”€ profile                    (Profile features)
    â”œâ”€â”€ settings
    â””â”€â”€ language
```

## ğŸš€ Usage Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Usage Pattern                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1. Import Hook                                          â”‚
â”‚     import { useTranslation } from 'react-i18next';     â”‚
â”‚                                                          â”‚
â”‚  2. Get t() Function                                     â”‚
â”‚     const { t } = useTranslation();                     â”‚
â”‚                                                          â”‚
â”‚  3. Use in JSX                                           â”‚
â”‚     <Text>{t('auth.login.title')}</Text>                â”‚
â”‚                                                          â”‚
â”‚  4. Result                                               â”‚
â”‚     English: "Welcome Back"                              â”‚
â”‚     Arabic:  "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ"                            â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Component Hierarchy

```
App
 â””â”€â”€ I18nextProvider
      â””â”€â”€ SafeAreaProvider
           â””â”€â”€ KeyboardProvider
                â””â”€â”€ Stack (Navigation)
                     â”œâ”€â”€ Login Screen (uses t())
                     â”œâ”€â”€ Tabs
                     â”‚    â””â”€â”€ Profile (has LanguageSwitcher)
                     â””â”€â”€ Any Screen (can use t())
```

## ğŸŒ Supported Languages

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Language  â”‚   Code   â”‚    Flag    â”‚   RTL    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  English   â”‚    en    â”‚     ğŸ‡¬ğŸ‡§     â”‚    No    â”‚
â”‚  Arabic    â”‚    ar    â”‚     ğŸ‡¸ğŸ‡¦     â”‚   Yes    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Configuration Options

```typescript
// src/lib/i18n.ts
i18next.init({
  compatibilityJSON: 'v3',        // React Native compatibility
  resources: { en, ar },          // Translation files
  lng: deviceLanguage,            // Initial language
  fallbackLng: 'en',              // Fallback if translation missing
  interpolation: {
    escapeValue: false            // React handles escaping
  },
  react: {
    useSuspense: false            // Important for RN
  }
});
```

---

**Status**: âœ… Fully implemented and ready for use!

For detailed usage instructions, see:
- [I18N_QUICK_REFERENCE.md](./I18N_QUICK_REFERENCE.md)
- [I18N_GUIDE.md](./I18N_GUIDE.md)
